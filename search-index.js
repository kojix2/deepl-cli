crystal_doc_search_index_callback({"repository_name":"deepl-cli","body":"# DeepL CLI\n\n[![build](https://github.com/kojix2/deepl-cli/actions/workflows/build.yml/badge.svg)](https://github.com/kojix2/deepl-cli/actions/workflows/build.yml)\n\nDeepL CLI is a fast and lightweight command-line tool for the [DeepL API](https://www.deepl.com/pro-api/), written in [Crystal](https://github.com/crystal-lang/crystal).\n\n- Supports document translation `pdf`, `docx`, `txt`, etc.\n- Supports glossaries\n- Precompiled binaries available\n\n## Installation\n\n### Download\n\n- Download the binary from the [Releases](https://github.com/kojix2/deepl-cli/releases)\n- Binaries for Linux are statically linked.\n- For macOS, we recommend using homebrew.\n\n### Homebrew\n\n[![deepl-cli (macos)](https://github.com/kojix2/homebrew-brew/actions/workflows/deepl-cli-macos.yml/badge.svg)](https://github.com/kojix2/homebrew-brew/actions/workflows/deepl-cli-macos.yml)\n[![deepl-cli (ubuntu)](https://github.com/kojix2/homebrew-brew/actions/workflows/deepl-cli-ubuntu.yml/badge.svg)](https://github.com/kojix2/homebrew-brew/actions/workflows/deepl-cli-ubuntu.yml)\n\n```sh\nbrew install kojix2/brew/deepl-cli\n```\n\n### Proxy settings (optional)\n\n```sh\nexport HTTP_PROXY=http://[IP]:[port]\nexport HTTPS_PROXY=https://[IP]:[port]\n```\n\n## Prerequisites\n\nYou will need an API key for DeepL. [Create one here](https://www.deepl.com/pro-api) and set it as an environment variable:\n\n```sh\nexport DEEPL_AUTH_KEY=your_api_key_here\n```\n\n## Usage\n\n```sh\ndeepl [options] <file>\n```\n\n### Translate text\n\n```sh\ndeepl [options] <file>\n```\n\nOptions:\n\n```txt\n    -i, --input TEXT                 Input text\n    -f, --from [LANG]                Source language [AUTO]\n    -t, --to [LANG]                  Target language [EN]\n    -p, --paste                      Input text from clipboard\n    -g, --glossary NAME              Glossary name\n    -F, --formality OPT              Formality (default more less)\n    -C, --context TEXT               Context (experimental)\n    -S, --split-sentences OPT        Split sentences\n    -A, --ansi                       Do not remove ANSI escape codes\n```\n\nNote: ANSI escape sequences are removed by default.\n\n### Translate documents\n\nTo translate a document, use the `doc` subcommand:\n\n```sh\ndeepl doc [options] <file>\n```\n\nOptions for document translation:\n\n```txt\n    -f, --from [LANG]                Source language [AUTO]\n    -t, --to [LANG]                  Target language [EN]\n    -g, --glossary NAME              Glossary name\n    -F, --formality OPT              Formality (default more less)\n    -o, --output FILE                Output file\n    -O, --output-format FORMAT       Output file format\n```\n\nSupported file formats.\n\n- `docx` - Microsoft Word Document\n- `pptx` - Microsoft PowerPoint Document\n- `xlsx` - Microsoft Excel Document\n- `pdf` - Portable Document Format\n- `htm` / `html` - HTML Document\n- `txt` - Plain Text Document\n- `xlf` / `xliff` - XLIFF Document, version 2.1\n\n### Manage Glossaries\n\nFor glossary management, use the `glossary` subcommand:\n\n```sh\ndeepl glossary [options]\n```\n\nOptions for glossary management:\n\n```txt\n    list                             List glossaries\n    create                           Create a glossary\n    delete                           Delete glossaries\n    edit                             Edit glossaries\n    view                             View glossaries\n    -l, --list                       List glossaries\n    -p, --language-pairs             List language pairs\n```\n\n## Examples\n\nBelow are examples for translating text, translating documents, and working with glossaries.\n\n### Translate Text\n\nTo translate the text \"Hola mundo\" from Spanish (ES) to English (EN):\n\n```sh\ndeepl -i \"Hola mundo\" -t en        # Translation: Hello world\n```\n\nOr, using standard input:\n\n```sh\necho \"Hola mundo\" | deepl -t en    # Translation: Hello world\n```\n\nStandard input translation is useful for quick references.\n\n```sh\ngit --help | deepl -t fr | less\n```\n\nThe `man` command can also be translated (by removing ANSI escape sequences):\n\n```sh\nman git | deepl -t de | less\n```\n\nTo translate multiple lines, press `Ctrl+D` when you have finished typing. This is particularly useful when copying and pasting from the clipboard.\n\n```sh\ndeepl -f es\n# Hola\n# mundo\n# Ctrl + D\n```\n\nTranslate text from the clipboard:\n\n```sh\ndeepl --paste\n```\n\nYou can also pass a text file as an argument:\n\n```sh\ndeepl -t tr foo.txt\n```\n\nIt's possible to pass multiple text files:\n\n```sh\ndeepl -t nl foo.txt bar.txt\n```\n\nIf you are translating multiple files, you might want to add the filename to the header:\n\n```sh\nbat --style header *.txt | deepl -t it\n```\n\nTo use a glossary for translation:\n\n```sh\ndeepl -g myglossary -f ru\n```\n\nTo refer to the original text, you can use `tee dev/stderr`:\n\n```sh\nfortune | tee /dev/stderr | deepl\n```\n\n### Translate documents\n\nYou can directly translate documents:\n\n```sh\ndeepl doc your.pdf -t pt\n# The translated document will be saved as your_PT.pdf\n```\n\nTo use a glossary for translation:\n\n```sh\ndeepl doc -g myglossary -f pl\n```\n\nTo translate a PDF document and save it in docx format:\n\n```\ndeepl doc input.pdf -O docx -o output.docx\n```\n\nTo translate multiple files, use Unix commands such as `find`, `xargs`, `fd`:\n\n```sh\nfind . -name \"*.pdf\" -exec deepl doc -t ja {} +\n```\n\n```sh\nls -1 *.docx | xargs -L1 deepl doc -t ko\n```\n\n```sh\nfd -e pdf -e docx -x deepl doc -t zh\n```\n\n### Glossaries\n\nThe DeepL API supports glossaries. See [here](https://developers.deepl.com/docs/api-reference/glossaries#formats) for the format of the glossary file.\n\nTo create a glossary:\n\n```sh\ndeepl glossary create -n mydic -f en -t pt mydict.tsv\n```\n\nTo list glossaries:\n\n```sh\ndeepl glossary list\n```\n\nTo list only the names of the glossary:\n\n```sh\ndeepl glossary -l\n```\n\nTo use a glossary for text translation:\n\n```sh\ndeepl -g mydict -f en deep.txt\n```\n\nTo use a glossary for document translation:\n\n```sh\ndeepl doc -g mydict -f en deep.pdf\n```\n\nTo display the contents of the glossary:\n\n```sh\ndeepl glossary view mydict\n```\n\nTo list the languages in which glossaries can be created:\n\n```sh\ndeepl glossary -p\n```\n\n### Information\n\nTo display a list of available source languages:\n\n```sh\ndeepl -f\n```\n\nTo display a list of available target languages:\n\n```sh\ndeepl -t\n```\n\nTo output usage information:\n\n```sh\ndeepl -u\n\n# https://api.deepl.com/v2\n# character_count: 614842\n# character_limit: 1000000000000\n```\n\n### Environment Variables\n\n<table>\n  <thead>\n    <tr>\n      <th>Name</th>\n      <th>Description</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>DEEPL_AUTH_KEY</td>\n      <td>DeepL API authentication key</td>\n    </tr>\n    <tr>\n      <td>DEEPL_TARGET_LANG</td>\n      <td>Default target language</td>\n    </tr>\n    <tr>\n      <td>DEEPL_USER_AGENT</td>\n      <td>User-Agent</td>\n    </tr>\n    <tr>\n      <td>EDITOR</td>\n      <td>Text editor for editing glossary</td>\n    </tr>\n  </tbody>\n</table>\n\nDeepL CLI automatically detects the target language, but if this does not work, the environment variable `DEEPL_TARGET_LANG` can be set.\n\n## Contributing\n\n- Fork this repository\n- Report bugs\n- Fix bugs and submit pull requests\n- Write, clarify, or fix documentation\n- Suggest or add new features\n\n## Development\n\nCompilation from source code\n\n```sh\ngit clone https://github.com/kojix2/deepl-cli\ncd deepl-cli\nshards build --release\n```\n\nA compiled binary file will be created in the `bin` directory. Installation is simply copying the generated binary.\n\n```\nsudo cp bin/deepl /usr/local/bin\n```\n\nIf you encounter a bug, follow the command with the `-d` option and run it. You can view the backtrace.\n\n```sh\ndeepl doc -d a.pdf\n```\n\n### DeepL API Library\n\n- [https://github.com/kojix2/deepl.cr/](https://github.com/kojix2/deepl.cr/)\n\n## License\n\nThis project is licensed under the MIT License.\n\nHappy translating!\n","program":{"html_id":"deepl-cli/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"locations":[],"repository_name":"deepl-cli","program":true,"enum":false,"alias":false,"const":false,"types":[{"html_id":"deepl-cli/Crest","path":"Crest.html","kind":"module","full_name":"Crest","name":"Crest","abstract":false,"locations":[{"filename":"lib/crest/src/crest.cr","line_number":36,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/crest/src/crest.cr#L36"},{"filename":"lib/crest/src/crest/curlify.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/crest/src/crest/curlify.cr#L1"},{"filename":"lib/crest/src/crest/exceptions.cr","line_number":3,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/crest/src/crest/exceptions.cr#L3"},{"filename":"lib/crest/src/crest/form.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/crest/src/crest/form.cr#L1"},{"filename":"lib/crest/src/crest/forms/data_form.cr","line_number":3,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/crest/src/crest/forms/data_form.cr#L3"},{"filename":"lib/crest/src/crest/forms/json_form.cr","line_number":3,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/crest/src/crest/forms/json_form.cr#L3"},{"filename":"lib/crest/src/crest/forms/urlencoded_form.cr","line_number":3,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/crest/src/crest/forms/urlencoded_form.cr#L3"},{"filename":"lib/crest/src/crest/logger.cr","line_number":3,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/crest/src/crest/logger.cr#L3"},{"filename":"lib/crest/src/crest/loggers/common_logger.cr","line_number":8,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/crest/src/crest/loggers/common_logger.cr#L8"},{"filename":"lib/crest/src/crest/params_decoder.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/crest/src/crest/params_decoder.cr#L1"},{"filename":"lib/crest/src/crest/params_encoder.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/crest/src/crest/params_encoder.cr#L1"},{"filename":"lib/crest/src/crest/params_encoders/enumerated_flat_params_encoder.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/crest/src/crest/params_encoders/enumerated_flat_params_encoder.cr#L1"},{"filename":"lib/crest/src/crest/params_encoders/flat_params_encoder.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/crest/src/crest/params_encoders/flat_params_encoder.cr#L1"},{"filename":"lib/crest/src/crest/params_encoders/nested_params_encoder.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/crest/src/crest/params_encoders/nested_params_encoder.cr#L1"},{"filename":"lib/crest/src/crest/params_encoders/zero_enumerated_flat_params_encoder.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/crest/src/crest/params_encoders/zero_enumerated_flat_params_encoder.cr#L1"},{"filename":"lib/crest/src/crest/redirector.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/crest/src/crest/redirector.cr#L1"},{"filename":"lib/crest/src/crest/request.cr","line_number":3,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/crest/src/crest/request.cr#L3"},{"filename":"lib/crest/src/crest/resource.cr","line_number":3,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/crest/src/crest/resource.cr#L3"},{"filename":"lib/crest/src/crest/response.cr","line_number":5,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/crest/src/crest/response.cr#L5"},{"filename":"src/ext/crest.cr","line_number":10,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/ext/crest.cr#L10"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"doc":"This module's static methods are the entry point for using the Crest client.\n\nSupported HTTP methods: `get`, `put`, `post`, `patch` `delete`, `options`, `head`\n\nExamples:\n\n```\nCrest.get(\n  \"http://httpbin.org/get\",\n  headers: {\"Content-Type\" => \"image/jpg\"},\n  params: {\"lang\" => \"en\"}\n)\n\nCrest.post(\n  \"http://httpbin.org/post\",\n  headers: {\"Access-Token\" => [\"secret1\", \"secret2\"]},\n  form: {\"fizz\" => \"buz\"},\n  logging: true,\n)\n\nCrest.get(\"http://httpbin.org/stream/5\") do |response|\n  while line = response.body_io.gets\n    puts line\n  end\nend\n```","summary":"<p>This module's static methods are the entry point for using the Crest client.</p>","types":[{"html_id":"deepl-cli/Crest/Request","path":"Crest/Request.html","kind":"class","full_name":"Crest::Request","name":"Request","abstract":false,"superclass":{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"deepl-cli/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"lib/crest/src/crest/request.cr","line_number":57,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/crest/src/crest/request.cr#L57"},{"filename":"src/ext/crest.cr","line_number":11,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/ext/crest.cr#L11"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"deepl-cli/Crest","kind":"module","full_name":"Crest","name":"Crest"},"doc":"A class that used to make the requests\nThe result of a `Crest::Request` is a `Crest::Response` object.\n\nSimple example:\n\n```\nrequest = Crest::Request.new(:post, \"http://httpbin.org/post\", {\"age\" => 27}, params: {:name => \"Kurt\"})\nrequest.execute\n\nCrest::Request.execute(:post, \"http://httpbin.org/post\", {\"age\" => 27}, json: true)\n\nCrest::Request.post(\"http://httpbin.org/post\", {\"age\" => 27}, json: true)\n```\n\nBlock style:\n\n```\nrequest = Crest::Request.new(:get, \"http://httpbin.org/get\") do |request|\n  request.headers.add(\"foo\", \"bar\")\n  request.user = \"username\"\n  request.password = \"password\"\nend\n\nresponse = request.execute\n```\n\nMandatory parameters:\n- `method`\n- `url`\n\nOptional parameters:\n- `headers` a hash containing the request headers\n- `cookies` a hash containing the request cookies\n- `form` a hash containing form data (or a raw string)\n- `params` a hash that represent query params (or a raw string) - a string separated from the preceding part by a question mark (?)\n   and a sequence of attribute–value pairs separated by a delimiter (&).\n- `params_encoder` params encoder (default to `Crest::FlatParamsEncoder`)\n- `auth` access authentication method `basic` or `digest` (default to `basic`)\n- `user` and `password` for authentication\n- `tls` configuring TLS settings\n- `p_addr`, `p_port`, `p_user`, `p_pass` for proxy\n- `json` make a JSON request with the appropriate HTTP headers (default to `false`)\n- `multipart` make a multipart request with the appropriate HTTP headers even if not sending a file (default to `false`)\n- `user_agent` set \"User-Agent\" HTTP header (default to `Crest::USER_AGENT`)\n- `max_redirects` maximum number of redirects (default to `10`)\n- `logging` enable logging (default to `false`)\n- `logger` set logger (default to `Crest::CommonLogger`)\n- `handle_errors` error handling (default to `true`)\n- `close_connection` close the connection after request is completed (default to `true`)\n- `http_client` instance of `HTTP::Client`\n- `read_timeout` read timeout (default to `nil`)\n- `write_timeout` write timeout (default to `nil`)\n- `connect_timeout` connect timeout (default to `nil`)","summary":"<p>A class that used to make the requests The result of a <code><a href=\"../Crest/Request.html\">Crest::Request</a></code> is a <code>Crest::Response</code> object.</p>","constructors":[{"html_id":"new(method:Symbol,url:String,form={}ofString=>String,**args)-class-method","name":"new","doc":"When block is not given.","summary":"<p>When block is not given.</p>","abstract":false,"args":[{"name":"method","external_name":"method","restriction":"Symbol"},{"name":"url","external_name":"url","restriction":"String"},{"name":"form","default_value":"{} of String => String","external_name":"form","restriction":""}],"args_string":"(method : Symbol, url : String, form = {} of String => String, **args)","args_html":"(method : Symbol, url : String, form = {} <span class=\"k\">of</span> <span class=\"t\">String</span> <span class=\"o\">=&gt;</span> <span class=\"t\">String</span>, **args)","location":{"filename":"src/ext/crest.cr","line_number":23,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/ext/crest.cr#L23"},"def":{"name":"new","args":[{"name":"method","external_name":"method","restriction":"Symbol"},{"name":"url","external_name":"url","restriction":"String"},{"name":"form","default_value":"{} of String => String","external_name":"form","restriction":""}],"double_splat":{"name":"args","external_name":"args","restriction":""},"visibility":"Public","body":"_ = allocate\n_.initialize(method, url, form, **args)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}]}]},{"html_id":"deepl-cli/DeepL","path":"DeepL.html","kind":"module","full_name":"DeepL","name":"DeepL","abstract":false,"locations":[{"filename":"lib/deepl/src/deepl/document_handle.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/deepl/src/deepl/document_handle.cr#L1"},{"filename":"lib/deepl/src/deepl/document_status.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/deepl/src/deepl/document_status.cr#L1"},{"filename":"lib/deepl/src/deepl/exceptions.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/deepl/src/deepl/exceptions.cr#L1"},{"filename":"lib/deepl/src/deepl/glossary_info.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/deepl/src/deepl/glossary_info.cr#L1"},{"filename":"lib/deepl/src/deepl/glossary_language_pair.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/deepl/src/deepl/glossary_language_pair.cr#L1"},{"filename":"lib/deepl/src/deepl/language_info.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/deepl/src/deepl/language_info.cr#L1"},{"filename":"lib/deepl/src/deepl/text_result.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/deepl/src/deepl/text_result.cr#L1"},{"filename":"lib/deepl/src/deepl/translator.cr","line_number":15,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/deepl/src/deepl/translator.cr#L15"},{"filename":"lib/deepl/src/deepl/version.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/lib/deepl/src/deepl/version.cr#L1"},{"filename":"src/deepl/action.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/action.cr#L1"},{"filename":"src/deepl/cli.cr","line_number":8,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L8"},{"filename":"src/deepl/cli/version.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli/version.cr#L1"},{"filename":"src/deepl/config.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/config.cr#L1"},{"filename":"src/deepl/options.cr","line_number":4,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L4"},{"filename":"src/deepl/parser.cr","line_number":6,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/parser.cr#L6"},{"filename":"src/deepl/utils.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/utils.cr#L1"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"types":[{"html_id":"deepl-cli/DeepL/Action","path":"DeepL/Action.html","kind":"enum","full_name":"DeepL::Action","name":"Action","abstract":false,"ancestors":[{"html_id":"deepl-cli/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"deepl-cli/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"deepl-cli/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"deepl-cli/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/deepl/action.cr","line_number":2,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/action.cr#L2"}],"repository_name":"deepl-cli","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"TranslateText","name":"TranslateText","value":"0_u8"},{"id":"TranslateDocument","name":"TranslateDocument","value":"1_u8","doc":"TranslateXML","summary":"<p>TranslateXML</p>"},{"id":"ListGlossaryLanguagePairs","name":"ListGlossaryLanguagePairs","value":"2_u8"},{"id":"CreateGlossary","name":"CreateGlossary","value":"3_u8"},{"id":"DeleteGlossaryByName","name":"DeleteGlossaryByName","value":"4_u8"},{"id":"DeleteGlossaryById","name":"DeleteGlossaryById","value":"5_u8"},{"id":"EditGlossaryByName","name":"EditGlossaryByName","value":"6_u8"},{"id":"EditGlossaryById","name":"EditGlossaryById","value":"7_u8"},{"id":"OutputGlossaryEntriesByName","name":"OutputGlossaryEntriesByName","value":"8_u8"},{"id":"OutputGlossaryEntriesById","name":"OutputGlossaryEntriesById","value":"9_u8"},{"id":"ListGlossaries","name":"ListGlossaries","value":"10_u8"},{"id":"ListGlossariesLong","name":"ListGlossariesLong","value":"11_u8"},{"id":"ListFromLanguages","name":"ListFromLanguages","value":"12_u8"},{"id":"ListTargetLanguages","name":"ListTargetLanguages","value":"13_u8"},{"id":"RetrieveUsage","name":"RetrieveUsage","value":"14_u8"},{"id":"Version","name":"Version","value":"15_u8"},{"id":"Help","name":"Help","value":"16_u8"},{"id":"None","name":"None","value":"17_u8"}],"namespace":{"html_id":"deepl-cli/DeepL","kind":"module","full_name":"DeepL","name":"DeepL"},"instance_methods":[{"html_id":"create_glossary?-instance-method","name":"create_glossary?","abstract":false,"location":{"filename":"src/deepl/action.cr","line_number":7,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/action.cr#L7"},"def":{"name":"create_glossary?","visibility":"Public","body":"self == CreateGlossary"}},{"html_id":"delete_glossary_by_id?-instance-method","name":"delete_glossary_by_id?","abstract":false,"location":{"filename":"src/deepl/action.cr","line_number":9,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/action.cr#L9"},"def":{"name":"delete_glossary_by_id?","visibility":"Public","body":"self == DeleteGlossaryById"}},{"html_id":"delete_glossary_by_name?-instance-method","name":"delete_glossary_by_name?","abstract":false,"location":{"filename":"src/deepl/action.cr","line_number":8,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/action.cr#L8"},"def":{"name":"delete_glossary_by_name?","visibility":"Public","body":"self == DeleteGlossaryByName"}},{"html_id":"edit_glossary_by_id?-instance-method","name":"edit_glossary_by_id?","abstract":false,"location":{"filename":"src/deepl/action.cr","line_number":11,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/action.cr#L11"},"def":{"name":"edit_glossary_by_id?","visibility":"Public","body":"self == EditGlossaryById"}},{"html_id":"edit_glossary_by_name?-instance-method","name":"edit_glossary_by_name?","abstract":false,"location":{"filename":"src/deepl/action.cr","line_number":10,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/action.cr#L10"},"def":{"name":"edit_glossary_by_name?","visibility":"Public","body":"self == EditGlossaryByName"}},{"html_id":"help?-instance-method","name":"help?","abstract":false,"location":{"filename":"src/deepl/action.cr","line_number":20,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/action.cr#L20"},"def":{"name":"help?","visibility":"Public","body":"self == Help"}},{"html_id":"list_from_languages?-instance-method","name":"list_from_languages?","abstract":false,"location":{"filename":"src/deepl/action.cr","line_number":16,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/action.cr#L16"},"def":{"name":"list_from_languages?","visibility":"Public","body":"self == ListFromLanguages"}},{"html_id":"list_glossaries?-instance-method","name":"list_glossaries?","abstract":false,"location":{"filename":"src/deepl/action.cr","line_number":14,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/action.cr#L14"},"def":{"name":"list_glossaries?","visibility":"Public","body":"self == ListGlossaries"}},{"html_id":"list_glossaries_long?-instance-method","name":"list_glossaries_long?","abstract":false,"location":{"filename":"src/deepl/action.cr","line_number":15,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/action.cr#L15"},"def":{"name":"list_glossaries_long?","visibility":"Public","body":"self == ListGlossariesLong"}},{"html_id":"list_glossary_language_pairs?-instance-method","name":"list_glossary_language_pairs?","abstract":false,"location":{"filename":"src/deepl/action.cr","line_number":6,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/action.cr#L6"},"def":{"name":"list_glossary_language_pairs?","visibility":"Public","body":"self == ListGlossaryLanguagePairs"}},{"html_id":"list_target_languages?-instance-method","name":"list_target_languages?","abstract":false,"location":{"filename":"src/deepl/action.cr","line_number":17,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/action.cr#L17"},"def":{"name":"list_target_languages?","visibility":"Public","body":"self == ListTargetLanguages"}},{"html_id":"none?-instance-method","name":"none?","abstract":false,"location":{"filename":"src/deepl/action.cr","line_number":21,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/action.cr#L21"},"def":{"name":"none?","visibility":"Public","body":"self == None"}},{"html_id":"output_glossary_entries_by_id?-instance-method","name":"output_glossary_entries_by_id?","abstract":false,"location":{"filename":"src/deepl/action.cr","line_number":13,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/action.cr#L13"},"def":{"name":"output_glossary_entries_by_id?","visibility":"Public","body":"self == OutputGlossaryEntriesById"}},{"html_id":"output_glossary_entries_by_name?-instance-method","name":"output_glossary_entries_by_name?","abstract":false,"location":{"filename":"src/deepl/action.cr","line_number":12,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/action.cr#L12"},"def":{"name":"output_glossary_entries_by_name?","visibility":"Public","body":"self == OutputGlossaryEntriesByName"}},{"html_id":"retrieve_usage?-instance-method","name":"retrieve_usage?","abstract":false,"location":{"filename":"src/deepl/action.cr","line_number":18,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/action.cr#L18"},"def":{"name":"retrieve_usage?","visibility":"Public","body":"self == RetrieveUsage"}},{"html_id":"translate_document?-instance-method","name":"translate_document?","abstract":false,"location":{"filename":"src/deepl/action.cr","line_number":5,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/action.cr#L5"},"def":{"name":"translate_document?","visibility":"Public","body":"self == TranslateDocument"}},{"html_id":"translate_text?-instance-method","name":"translate_text?","abstract":false,"location":{"filename":"src/deepl/action.cr","line_number":3,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/action.cr#L3"},"def":{"name":"translate_text?","visibility":"Public","body":"self == TranslateText"}},{"html_id":"version?-instance-method","name":"version?","abstract":false,"location":{"filename":"src/deepl/action.cr","line_number":19,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/action.cr#L19"},"def":{"name":"version?","visibility":"Public","body":"self == Version"}}]},{"html_id":"deepl-cli/DeepL/CLI","path":"DeepL/CLI.html","kind":"class","full_name":"DeepL::CLI","name":"CLI","abstract":false,"superclass":{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"deepl-cli/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/deepl/cli.cr","line_number":9,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L9"},{"filename":"src/deepl/cli/version.cr","line_number":2,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli/version.cr#L2"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"VERSION","name":"VERSION","value":"{{ (`shards version /home/runner/work/deepl-cli/deepl-cli/src/deepl/cli`).chomp.stringify }}"},{"id":"VERSION_STRING","name":"VERSION_STRING","value":"if (Translator::DEEPL_SERVER_URL != Translator::DEEPL_DEFAULT_SERVER_URL)\n  \"deepl-cli #{VERSION} (#{Translator::DEEPL_SERVER_URL})\"\nelse\n  if (Translator::DEEPL_SERVER_URL_FREE != Translator::DEEPL_DEFAULT_SERVER_URL_FREE)\n    \"deepl-cli #{VERSION} (#{Translator::DEEPL_SERVER_URL_FREE})\"\n  else\n    \"deepl-cli #{VERSION}\"\n  end\nend"}],"namespace":{"html_id":"deepl-cli/DeepL","kind":"module","full_name":"DeepL","name":"DeepL"},"class_methods":[{"html_id":"debug:Bool-class-method","name":"debug","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":10,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L10"},"def":{"name":"debug","return_type":"Bool","visibility":"Public","body":"@@debug"}},{"html_id":"debug=(debug:Bool)-class-method","name":"debug=","abstract":false,"args":[{"name":"debug","external_name":"debug","restriction":"Bool"}],"args_string":"(debug : Bool)","args_html":"(debug : Bool)","location":{"filename":"src/deepl/cli.cr","line_number":10,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L10"},"def":{"name":"debug=","args":[{"name":"debug","external_name":"debug","restriction":"Bool"}],"visibility":"Public","body":"@@debug = debug"}}],"constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":14,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L14"},"def":{"name":"new","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"argv_or_select_id_from_glossary_list_long-instance-method","name":"argv_or_select_id_from_glossary_list_long","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":221,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L221"},"def":{"name":"argv_or_select_id_from_glossary_list_long","visibility":"Public","body":"if ARGV.size == 0\n  glossary_id = select_id_from_glossary_list_long.not_nil!\n  glossary_ids = [glossary_id]\nelse\n  ARGV\nend"}},{"html_id":"argv_or_select_name_from_glossary_list-instance-method","name":"argv_or_select_name_from_glossary_list","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":212,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L212"},"def":{"name":"argv_or_select_name_from_glossary_list","visibility":"Public","body":"if ARGV.size == 0\n  glossary_name = select_name_from_glossary_list.not_nil!\n  [glossary_name]\nelse\n  ARGV\nend"}},{"html_id":"create_glossary-instance-method","name":"create_glossary","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":184,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L184"},"def":{"name":"create_glossary","visibility":"Public","body":"entry_format = \"tsv\"\nif option.glossary_name.nil? && (ARGV.size == 1)\n  name = ARGV[0]\n  entry_format = ((File.extname(name)).sub(\".\", \"\")).downcase\n  name = File.basename(name, File.extname(name))\n  option.glossary_name = name\nend\noption.input_text = ARGF.gets_to_end\ntranslator = DeepL::Translator.new\ntranslator.create_glossary(name: option.glossary_name, source_lang: option.source_lang, target_lang: option.target_lang, entries: option.input_text, entry_format: entry_format)\nSTDERR.puts(\"[deepl-cli] Glossary #{option.glossary_name} is created\")\n"}},{"html_id":"delete_glossary_by_id-instance-method","name":"delete_glossary_by_id","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":267,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L267"},"def":{"name":"delete_glossary_by_id","visibility":"Public","body":"glossary_ids = argv_or_select_id_from_glossary_list_long\ntranslator = DeepL::Translator.new\nglossary_ids.each do |glossary_id|\n  info = translator.get_glossary_info(glossary_id)\n  translator.delete_glossary(glossary_id)\n  STDERR.puts(\"[deepl-cli] Glossary #{info.name} is deleted\")\nend\n"}},{"html_id":"delete_glossary_by_name-instance-method","name":"delete_glossary_by_name","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":258,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L258"},"def":{"name":"delete_glossary_by_name","visibility":"Public","body":"glossary_names = argv_or_select_name_from_glossary_list\ntranslator = DeepL::Translator.new\nglossary_names.each do |glossary_name|\n  translator.delete_glossary_by_name(glossary_name)\n  STDERR.puts(\"[deepl-cli] Glossary #{glossary_name} is deleted\")\nend\n"}},{"html_id":"edit_glossary_by_id-instance-method","name":"edit_glossary_by_id","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":302,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L302"},"def":{"name":"edit_glossary_by_id","visibility":"Public","body":"glossary_ids = argv_or_select_id_from_glossary_list_long\ntranslator = DeepL::Translator.new\nglossary_ids.each do |glossary_id|\n  glossary_info = translator.get_glossary_info(glossary_id)\n  edit_glossary_core(translator, glossary_info)\nend\n"}},{"html_id":"edit_glossary_by_name-instance-method","name":"edit_glossary_by_name","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":277,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L277"},"def":{"name":"edit_glossary_by_name","visibility":"Public","body":"glossary_names = argv_or_select_name_from_glossary_list\ntranslator = DeepL::Translator.new\nglossary_names.each do |glossary_name|\n  glossary_info_list = translator.get_glossary_info_by_name(glossary_name)\n  case glossary_info_list.size\n  when 2..\n    creation_times = glossary_info_list.map do |g|\n      g.creation_time.to_local.to_s\n    end\n    prompt = Term::Prompt.new\n    tm = prompt.select(\"Select creation date\", creation_times)\n    glossary_info = glossary_info_list.find do |g|\n      g.creation_time.to_local.to_s == tm\n    end\n    if glossary_info.nil?\n      STDERR.puts(\"[deepl-cli] Glossary #{glossary_name} #{tm} is not found\")\n    else\n      edit_glossary_core(translator, glossary_info)\n    end\n  when 1\n    glossary_info = glossary_info_list.first\n    edit_glossary_core(translator, glossary_info)\n  when 0\n  end\nend\n"}},{"html_id":"edit_glossary_core(translator,glossary_info)-instance-method","name":"edit_glossary_core","abstract":false,"args":[{"name":"translator","external_name":"translator","restriction":""},{"name":"glossary_info","external_name":"glossary_info","restriction":""}],"args_string":"(translator, glossary_info)","args_html":"(translator, glossary_info)","location":{"filename":"src/deepl/cli.cr","line_number":311,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L311"},"def":{"name":"edit_glossary_core","args":[{"name":"translator","external_name":"translator","restriction":""},{"name":"glossary_info","external_name":"glossary_info","restriction":""}],"visibility":"Public","body":"original_entries_text = \"\"\nwith_spinner do\n  original_entries_text = translator.get_glossary_entries(glossary_info.glossary_id)\nend\nedited_entries_text = Utils.edit_text(original_entries_text)\nif original_entries_text.chomp == edited_entries_text.chomp\n  return\nend\nwith_spinner do\n  translator.create_glossary(name: glossary_info.name, source_lang: glossary_info.source_lang, target_lang: glossary_info.target_lang, entries: edited_entries_text, entry_format: \"tsv\")\n  translator.delete_glossary(glossary_info.glossary_id)\nend\nSTDERR.puts(\"[deepl-cli] Glossary #{glossary_info.name} is updated\")\n"}},{"html_id":"option:Options-instance-method","name":"option","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":12,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L12"},"def":{"name":"option","return_type":"Options","visibility":"Public","body":"@option"}},{"html_id":"output_glossary_entries_by_id-instance-method","name":"output_glossary_entries_by_id","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":355,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L355"},"def":{"name":"output_glossary_entries_by_id","visibility":"Public","body":"glossary_ids = argv_or_select_id_from_glossary_list_long\ntranslator = DeepL::Translator.new\noutput_file = option.output_file\nif output_file && (File.exists?(output_file))\n  File.delete(output_file)\nend\nglossary_ids.each do |glossary_id|\n  entries_text = translator.get_glossary_entries(glossary_id)\n  if output_file\n    File.write(output_file, entries_text, mode: \"a\")\n    STDERR.puts(\"[deepl-cli] Glossary entries of #{glossary_id} are written to #{output_file}\")\n  else\n    puts(entries_text)\n  end\nend\n"}},{"html_id":"output_glossary_entries_by_name-instance-method","name":"output_glossary_entries_by_name","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":339,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L339"},"def":{"name":"output_glossary_entries_by_name","visibility":"Public","body":"glossary_names = argv_or_select_name_from_glossary_list\ntranslator = DeepL::Translator.new\noutput_file = option.output_file\nif output_file && (File.exists?(output_file))\n  File.delete(output_file)\nend\nglossary_names.each do |glossary_name|\n  entries_text = translator.get_glossary_entries_by_name(glossary_name)\n  if output_file\n    File.write(output_file, entries_text, mode: \"a\")\n    STDERR.puts(\"[deepl-cli] Glossary entries of #{glossary_name} are written to #{output_file}\")\n  else\n    puts(entries_text)\n  end\nend\n"}},{"html_id":"parser:Parser-instance-method","name":"parser","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":11,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L11"},"def":{"name":"parser","return_type":"Parser","visibility":"Public","body":"@parser"}},{"html_id":"print_glossary_language_pairs-instance-method","name":"print_glossary_language_pairs","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":166,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L166"},"def":{"name":"print_glossary_language_pairs","visibility":"Public","body":"translator = DeepL::Translator.new\nprevious_source_lang = \"\"\npairs = translator.get_glossary_language_pairs\nputs(\"Supported glossary language pairs\")\npairs.each do |pair|\n  source_lang = pair.source_lang\n  target_lang = pair.target_lang\n  if source_lang != previous_source_lang\n    if previous_source_lang != \"\"\n      puts\n    end\n    print(\"- #{source_lang} :\\t\")\n    previous_source_lang = source_lang\n  end\n  print(\" #{target_lang}\")\nend\nputs\n"}},{"html_id":"print_glossary_list-instance-method","name":"print_glossary_list","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":371,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L371"},"def":{"name":"print_glossary_list","visibility":"Public","body":"translator = DeepL::Translator.new\nglossary_list = translator.list_glossaries\nif glossary_list.empty?\n  return\nend\nglossary_list.each do |glossary|\n  puts(glossary.name)\nend\n"}},{"html_id":"print_glossary_list_long-instance-method","name":"print_glossary_list_long","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":380,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L380"},"def":{"name":"print_glossary_list_long","visibility":"Public","body":"translator = DeepL::Translator.new\nglossary_list = translator.list_glossaries\nif glossary_list.empty?\n  return\nend\nmax = glossary_list.map do |g|\n  g.name.size\nend.max.not_nil!\nglossary_list.each do |glossary|\n  puts([glossary.name.rjust(max + 1), \"#{glossary.source_lang} -> #{glossary.target_lang}\", glossary.entry_count, glossary.creation_time, glossary.glossary_id].join(\"\\t\"))\nend\n"}},{"html_id":"print_help-instance-method","name":"print_help","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":436,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L436"},"def":{"name":"print_help","visibility":"Public","body":"puts(parser.help_message)"}},{"html_id":"print_source_languages-instance-method","name":"print_source_languages","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":396,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L396"},"def":{"name":"print_source_languages","visibility":"Public","body":"translator = DeepL::Translator.new\nlanginfo = translator.get_source_languages\nprint_langinfo(langinfo)\n"}},{"html_id":"print_target_languages-instance-method","name":"print_target_languages","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":402,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L402"},"def":{"name":"print_target_languages","visibility":"Public","body":"translator = DeepL::Translator.new\nlanginfo = translator.get_target_languages\ndefault_target_language = Config.target_lang\nprint_langinfo(langinfo, default: default_target_language)\n"}},{"html_id":"print_usage-instance-method","name":"print_usage","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":426,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L426"},"def":{"name":"print_usage","visibility":"Public","body":"translator = DeepL::Translator.new\nputs(translator.server_url)\nputs(translator.get_usage.map do |k, v|\n  \"#{k}: #{v}\"\nend.join(\"\\n\"))\n"}},{"html_id":"print_version-instance-method","name":"print_version","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":432,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L432"},"def":{"name":"print_version","visibility":"Public","body":"puts(VERSION_STRING)"}},{"html_id":"run-instance-method","name":"run","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":19,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L19"},"def":{"name":"run","visibility":"Public","body":"begin\n  case option.action\n  when Action::TranslateText\n    translate_text\n  when Action::TranslateDocument\n    translate_document\n  when Action::ListGlossaryLanguagePairs\n    print_glossary_language_pairs\n  when Action::CreateGlossary\n    create_glossary\n  when Action::DeleteGlossaryByName\n    delete_glossary_by_name\n  when Action::DeleteGlossaryById\n    delete_glossary_by_id\n  when Action::EditGlossaryByName\n    edit_glossary_by_name\n  when Action::EditGlossaryById\n    edit_glossary_by_id\n  when Action::ListGlossaries\n    print_glossary_list\n  when Action::ListGlossariesLong\n    print_glossary_list_long\n  when Action::OutputGlossaryEntriesByName\n    output_glossary_entries_by_name\n  when Action::OutputGlossaryEntriesById\n    output_glossary_entries_by_id\n  when Action::ListFromLanguages\n    print_source_languages\n  when Action::ListTargetLanguages\n    print_target_languages\n  when Action::RetrieveUsage\n    print_usage\n  when Action::Version\n    print_version\n  when Action::Help\n    print_help\n  else\n    raise(ArgumentError.new(\"Invalid action: #{option.action}\"))\n  end\nrescue ex\n  error_message = \"\\n[deepl-cli] ERROR: #{ex.class} #{ex.message}\"\n  if ex.is_a?(Crest::RequestFailed)\n    error_message = error_message + \"\\n#{ex.response}\"\n  end\n  if CLI.debug\n    error_message = error_message + \"\\n#{ex.backtrace.join(\"\\n\")}\"\n  end\n  STDERR.puts(error_message)\n  exit(1)\nend"}},{"html_id":"select_id_from_glossary_list_long:String|Nil-instance-method","name":"select_id_from_glossary_list_long","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":239,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L239"},"def":{"name":"select_id_from_glossary_list_long","return_type":"String | ::Nil","visibility":"Public","body":"prompt = Term::Prompt.new\ntranslator = DeepL::Translator.new\nglossary_list = translator.list_glossaries\nif glossary_list.empty?\n  return\nend\nmax = glossary_list.map do |g|\n  g.name.size\nend.max.not_nil!\nglossary_str_list = glossary_list.map do |glossary|\n  [glossary.name.rjust(max + 1), \"#{glossary.source_lang} -> #{glossary.target_lang}\", glossary.entry_count, glossary.creation_time, glossary.glossary_id].join(\"\\t\")\nend\nglossary_str = prompt.select(\"Select glossary\", glossary_str_list)\nglossary_id = (glossary_str.not_nil!.split(\"\\t\")).last\n"}},{"html_id":"select_name_from_glossary_list:String|Nil-instance-method","name":"select_name_from_glossary_list","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":230,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L230"},"def":{"name":"select_name_from_glossary_list","return_type":"String | ::Nil","visibility":"Public","body":"prompt = Term::Prompt.new\ntranslator = DeepL::Translator.new\nglossary_list = translator.list_glossaries\nif glossary_list.empty?\n  return\nend\nglossary_names = glossary_list.map do |g|\n  g.name\nend\nglossary_name = prompt.select(\"Select glossary\", glossary_names)\n"}},{"html_id":"translate_document-instance-method","name":"translate_document","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":136,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L136"},"def":{"name":"translate_document","visibility":"Public","body":"if option.input_text.empty?\nelse\n  raise(\"Invalid option: -i --input\")\nend\nif ARGV.empty?\n  raise(\"Input file is not specified\")\nend\noption.input_path = Path[ARGV.shift]\ncase ARGV.size\nwhen 1\n  STDERR.puts(\"[deepl-cli] File #{ARGV[0]} is ignored\")\nwhen 2..\n  STDERR.puts(\"[deepl-cli] Files #{ARGV.join(\", \")} are ignored\")\nend\ntranslator = DeepL::Translator.new\nwith_spinner do\n  translator.translate_document(path: option.input_path, target_lang: option.target_lang, source_lang: option.source_lang, formality: option.formality, glossary_name: option.glossary_name, output_format: option.output_format, output_file: option.output_file, interval: option.interval, message_prefix: \"[deepl-cli] \") do |progress|\n    STDERR.puts(avoid_spinner(progress))\n  end\nend\n"}},{"html_id":"translate_text-instance-method","name":"translate_text","abstract":false,"location":{"filename":"src/deepl/cli.cr","line_number":89,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/cli.cr#L89"},"def":{"name":"translate_text","visibility":"Public","body":"if option.input_text.empty?\n  option.input_text = ARGF.gets_to_end\nend\noption.input_text = remove_ansi_escape_codes(option.input_text)\nresult = [] of DeepL::TextResult\ntranslator = DeepL::Translator.new\nwith_spinner do\n  result = translator.translate_text(text: option.input_text, target_lang: option.target_lang, source_lang: option.source_lang, formality: option.formality, split_sentences: option.split_sentences, preserve_formatting: option.preserve_formatting, tag_handling: option.tag_handling, outline_detection: option.outline_detection, non_splitting_tags: option.non_splitting_tags, splitting_tags: option.splitting_tags, ignore_tags: option.ignore_tags, glossary_name: option.glossary_name, context: option.context, show_billed_characters: option.show_billed_characters)\nend\noutput = option.output_file ? IO::Memory.new : STDOUT\nresult.each do |r|\n  if option.detect_source_language\n    STDERR.puts(\"[deepl-cli] Detected source language: #{r.detected_source_language}\")\n  end\n  if option.show_billed_characters\n    STDERR.puts(\"[deepl-cli] Billed characters: #{r.billed_characters}\")\n  end\n  output.puts(r.text)\nend\nif output_file = option.output_file\n  File.open(output_file, \"w\") do |f|\n    output.to_s(f)\n  end\n  STDERR.puts(\"[deepl-cli] Translated text is written to #{output_file}\")\nend\n"}}]},{"html_id":"deepl-cli/DeepL/Config","path":"DeepL/Config.html","kind":"class","full_name":"DeepL::Config","name":"Config","abstract":false,"superclass":{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"deepl-cli/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/deepl/config.cr","line_number":2,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/config.cr#L2"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"deepl-cli/DeepL","kind":"module","full_name":"DeepL","name":"DeepL"},"class_methods":[{"html_id":"target_lang:String-class-method","name":"target_lang","abstract":false,"location":{"filename":"src/deepl/config.cr","line_number":3,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/config.cr#L3"},"def":{"name":"target_lang","return_type":"String","visibility":"Public","body":"tl = ENV[\"DEEPL_TARGET_LANG\"]?\nif tl\n  return tl\nend\n{% if (flag?(:darwin)) || (flag?(:unix)) %}\n        ENV[\"LANG\"]?.try &.split(\"_\").try &.first.upcase || \"EN\"\n      {% else %}{% if flag?(:windows) %}\n        l = `powershell -Command \"[System.Globalization.CultureInfo]::CurrentCulture.TwoLetterISOLanguageName\"`\n        l.empty? ? \"EN\" : l.strip.upcase\n      {% else %}\n        \"EN\"\n      {% end %}{% end %}\n"}}]},{"html_id":"deepl-cli/DeepL/Options","path":"DeepL/Options.html","kind":"struct","full_name":"DeepL::Options","name":"Options","abstract":false,"superclass":{"html_id":"deepl-cli/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"deepl-cli/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"deepl-cli/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"deepl-cli/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/deepl/options.cr","line_number":5,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L5"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"deepl-cli/DeepL","kind":"module","full_name":"DeepL","name":"DeepL"},"constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":5,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L5"},"def":{"name":"new","visibility":"Public","body":"x = allocate\nif x.responds_to?(:finalize)\n  ::GC.add_finalizer(x)\nend\nx\n"}}],"instance_methods":[{"html_id":"action:Action-instance-method","name":"action","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":6,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L6"},"def":{"name":"action","return_type":"Action","visibility":"Public","body":"@action"}},{"html_id":"action=(action:Action)-instance-method","name":"action=","abstract":false,"args":[{"name":"action","external_name":"action","restriction":"Action"}],"args_string":"(action : Action)","args_html":"(action : <a href=\"../DeepL/Action.html\">Action</a>)","location":{"filename":"src/deepl/options.cr","line_number":6,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L6"},"def":{"name":"action=","args":[{"name":"action","external_name":"action","restriction":"Action"}],"visibility":"Public","body":"@action = action"}},{"html_id":"context:String|Nil-instance-method","name":"context","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":17,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L17"},"def":{"name":"context","return_type":"String | ::Nil","visibility":"Public","body":"@context"}},{"html_id":"context=(context:String|Nil)-instance-method","name":"context=","abstract":false,"args":[{"name":"context","external_name":"context","restriction":"String | ::Nil"}],"args_string":"(context : String | Nil)","args_html":"(context : String | Nil)","location":{"filename":"src/deepl/options.cr","line_number":17,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L17"},"def":{"name":"context=","args":[{"name":"context","external_name":"context","restriction":"String | ::Nil"}],"visibility":"Public","body":"@context = context"}},{"html_id":"detect_source_language:Bool-instance-method","name":"detect_source_language","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":12,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L12"},"def":{"name":"detect_source_language","return_type":"Bool","visibility":"Public","body":"@detect_source_language"}},{"html_id":"detect_source_language=(detect_source_language:Bool)-instance-method","name":"detect_source_language=","abstract":false,"args":[{"name":"detect_source_language","external_name":"detect_source_language","restriction":"Bool"}],"args_string":"(detect_source_language : Bool)","args_html":"(detect_source_language : Bool)","location":{"filename":"src/deepl/options.cr","line_number":12,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L12"},"def":{"name":"detect_source_language=","args":[{"name":"detect_source_language","external_name":"detect_source_language","restriction":"Bool"}],"visibility":"Public","body":"@detect_source_language = detect_source_language"}},{"html_id":"formality:String|Nil-instance-method","name":"formality","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":14,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L14"},"def":{"name":"formality","return_type":"String | ::Nil","visibility":"Public","body":"@formality"}},{"html_id":"formality=(formality:String|Nil)-instance-method","name":"formality=","abstract":false,"args":[{"name":"formality","external_name":"formality","restriction":"String | ::Nil"}],"args_string":"(formality : String | Nil)","args_html":"(formality : String | Nil)","location":{"filename":"src/deepl/options.cr","line_number":14,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L14"},"def":{"name":"formality=","args":[{"name":"formality","external_name":"formality","restriction":"String | ::Nil"}],"visibility":"Public","body":"@formality = formality"}},{"html_id":"glossary_name:String|Nil-instance-method","name":"glossary_name","doc":"property glossary_id : String? = nil","summary":"<p>property glossary_id : String? = nil</p>","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":16,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L16"},"def":{"name":"glossary_name","return_type":"String | ::Nil","visibility":"Public","body":"@glossary_name"}},{"html_id":"glossary_name=(glossary_name:String|Nil)-instance-method","name":"glossary_name=","doc":"property glossary_id : String? = nil","summary":"<p>property glossary_id : String? = nil</p>","abstract":false,"args":[{"name":"glossary_name","external_name":"glossary_name","restriction":"String | ::Nil"}],"args_string":"(glossary_name : String | Nil)","args_html":"(glossary_name : String | Nil)","location":{"filename":"src/deepl/options.cr","line_number":16,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L16"},"def":{"name":"glossary_name=","args":[{"name":"glossary_name","external_name":"glossary_name","restriction":"String | ::Nil"}],"visibility":"Public","body":"@glossary_name = glossary_name"}},{"html_id":"ignore_tags:Array(String)|Nil-instance-method","name":"ignore_tags","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":24,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L24"},"def":{"name":"ignore_tags","return_type":"Array(String) | ::Nil","visibility":"Public","body":"@ignore_tags"}},{"html_id":"ignore_tags=(ignore_tags:Array(String)|Nil)-instance-method","name":"ignore_tags=","abstract":false,"args":[{"name":"ignore_tags","external_name":"ignore_tags","restriction":"Array(String) | ::Nil"}],"args_string":"(ignore_tags : Array(String) | Nil)","args_html":"(ignore_tags : Array(String) | Nil)","location":{"filename":"src/deepl/options.cr","line_number":24,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L24"},"def":{"name":"ignore_tags=","args":[{"name":"ignore_tags","external_name":"ignore_tags","restriction":"Array(String) | ::Nil"}],"visibility":"Public","body":"@ignore_tags = ignore_tags"}},{"html_id":"initialize-instance-method","name":"initialize","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":5,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L5"},"def":{"name":"initialize","visibility":"Public","body":""}},{"html_id":"input_path:Path-instance-method","name":"input_path","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":8,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L8"},"def":{"name":"input_path","return_type":"Path","visibility":"Public","body":"@input_path"}},{"html_id":"input_path=(input_path:Path)-instance-method","name":"input_path=","abstract":false,"args":[{"name":"input_path","external_name":"input_path","restriction":"Path"}],"args_string":"(input_path : Path)","args_html":"(input_path : Path)","location":{"filename":"src/deepl/options.cr","line_number":8,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L8"},"def":{"name":"input_path=","args":[{"name":"input_path","external_name":"input_path","restriction":"Path"}],"visibility":"Public","body":"@input_path = input_path"}},{"html_id":"input_text:String-instance-method","name":"input_text","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":7,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L7"},"def":{"name":"input_text","return_type":"String","visibility":"Public","body":"@input_text"}},{"html_id":"input_text=(input_text:String)-instance-method","name":"input_text=","abstract":false,"args":[{"name":"input_text","external_name":"input_text","restriction":"String"}],"args_string":"(input_text : String)","args_html":"(input_text : String)","location":{"filename":"src/deepl/options.cr","line_number":7,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L7"},"def":{"name":"input_text=","args":[{"name":"input_text","external_name":"input_text","restriction":"String"}],"visibility":"Public","body":"@input_text = input_text"}},{"html_id":"interval:Float32-instance-method","name":"interval","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":27,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L27"},"def":{"name":"interval","return_type":"Float32","visibility":"Public","body":"@interval"}},{"html_id":"interval=(interval:Float32)-instance-method","name":"interval=","abstract":false,"args":[{"name":"interval","external_name":"interval","restriction":"Float32"}],"args_string":"(interval : Float32)","args_html":"(interval : Float32)","location":{"filename":"src/deepl/options.cr","line_number":27,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L27"},"def":{"name":"interval=","args":[{"name":"interval","external_name":"interval","restriction":"Float32"}],"visibility":"Public","body":"@interval = interval"}},{"html_id":"no_ansi:Bool-instance-method","name":"no_ansi","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":26,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L26"},"def":{"name":"no_ansi","return_type":"Bool","visibility":"Public","body":"@no_ansi"}},{"html_id":"no_ansi=(no_ansi:Bool)-instance-method","name":"no_ansi=","abstract":false,"args":[{"name":"no_ansi","external_name":"no_ansi","restriction":"Bool"}],"args_string":"(no_ansi : Bool)","args_html":"(no_ansi : Bool)","location":{"filename":"src/deepl/options.cr","line_number":26,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L26"},"def":{"name":"no_ansi=","args":[{"name":"no_ansi","external_name":"no_ansi","restriction":"Bool"}],"visibility":"Public","body":"@no_ansi = no_ansi"}},{"html_id":"non_splitting_tags:Array(String)|Nil-instance-method","name":"non_splitting_tags","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":22,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L22"},"def":{"name":"non_splitting_tags","return_type":"Array(String) | ::Nil","visibility":"Public","body":"@non_splitting_tags"}},{"html_id":"non_splitting_tags=(non_splitting_tags:Array(String)|Nil)-instance-method","name":"non_splitting_tags=","abstract":false,"args":[{"name":"non_splitting_tags","external_name":"non_splitting_tags","restriction":"Array(String) | ::Nil"}],"args_string":"(non_splitting_tags : Array(String) | Nil)","args_html":"(non_splitting_tags : Array(String) | Nil)","location":{"filename":"src/deepl/options.cr","line_number":22,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L22"},"def":{"name":"non_splitting_tags=","args":[{"name":"non_splitting_tags","external_name":"non_splitting_tags","restriction":"Array(String) | ::Nil"}],"visibility":"Public","body":"@non_splitting_tags = non_splitting_tags"}},{"html_id":"outline_detection:Bool-instance-method","name":"outline_detection","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":21,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L21"},"def":{"name":"outline_detection","return_type":"Bool","visibility":"Public","body":"@outline_detection"}},{"html_id":"outline_detection=(outline_detection:Bool)-instance-method","name":"outline_detection=","abstract":false,"args":[{"name":"outline_detection","external_name":"outline_detection","restriction":"Bool"}],"args_string":"(outline_detection : Bool)","args_html":"(outline_detection : Bool)","location":{"filename":"src/deepl/options.cr","line_number":21,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L21"},"def":{"name":"outline_detection=","args":[{"name":"outline_detection","external_name":"outline_detection","restriction":"Bool"}],"visibility":"Public","body":"@outline_detection = outline_detection"}},{"html_id":"output_file:Path|Nil-instance-method","name":"output_file","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":9,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L9"},"def":{"name":"output_file","return_type":"Path | ::Nil","visibility":"Public","body":"@output_file"}},{"html_id":"output_file=(output_file:Path|Nil)-instance-method","name":"output_file=","abstract":false,"args":[{"name":"output_file","external_name":"output_file","restriction":"Path | ::Nil"}],"args_string":"(output_file : Path | Nil)","args_html":"(output_file : Path | Nil)","location":{"filename":"src/deepl/options.cr","line_number":9,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L9"},"def":{"name":"output_file=","args":[{"name":"output_file","external_name":"output_file","restriction":"Path | ::Nil"}],"visibility":"Public","body":"@output_file = output_file"}},{"html_id":"output_format:String|Nil-instance-method","name":"output_format","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":25,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L25"},"def":{"name":"output_format","return_type":"String | ::Nil","visibility":"Public","body":"@output_format"}},{"html_id":"output_format=(output_format:String|Nil)-instance-method","name":"output_format=","abstract":false,"args":[{"name":"output_format","external_name":"output_format","restriction":"String | ::Nil"}],"args_string":"(output_format : String | Nil)","args_html":"(output_format : String | Nil)","location":{"filename":"src/deepl/options.cr","line_number":25,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L25"},"def":{"name":"output_format=","args":[{"name":"output_format","external_name":"output_format","restriction":"String | ::Nil"}],"visibility":"Public","body":"@output_format = output_format"}},{"html_id":"preserve_formatting:Bool-instance-method","name":"preserve_formatting","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":19,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L19"},"def":{"name":"preserve_formatting","return_type":"Bool","visibility":"Public","body":"@preserve_formatting"}},{"html_id":"preserve_formatting=(preserve_formatting:Bool)-instance-method","name":"preserve_formatting=","abstract":false,"args":[{"name":"preserve_formatting","external_name":"preserve_formatting","restriction":"Bool"}],"args_string":"(preserve_formatting : Bool)","args_html":"(preserve_formatting : Bool)","location":{"filename":"src/deepl/options.cr","line_number":19,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L19"},"def":{"name":"preserve_formatting=","args":[{"name":"preserve_formatting","external_name":"preserve_formatting","restriction":"Bool"}],"visibility":"Public","body":"@preserve_formatting = preserve_formatting"}},{"html_id":"show_billed_characters:Bool-instance-method","name":"show_billed_characters","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":13,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L13"},"def":{"name":"show_billed_characters","return_type":"Bool","visibility":"Public","body":"@show_billed_characters"}},{"html_id":"show_billed_characters=(show_billed_characters:Bool)-instance-method","name":"show_billed_characters=","abstract":false,"args":[{"name":"show_billed_characters","external_name":"show_billed_characters","restriction":"Bool"}],"args_string":"(show_billed_characters : Bool)","args_html":"(show_billed_characters : Bool)","location":{"filename":"src/deepl/options.cr","line_number":13,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L13"},"def":{"name":"show_billed_characters=","args":[{"name":"show_billed_characters","external_name":"show_billed_characters","restriction":"Bool"}],"visibility":"Public","body":"@show_billed_characters = show_billed_characters"}},{"html_id":"source_lang:String|Nil-instance-method","name":"source_lang","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":11,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L11"},"def":{"name":"source_lang","return_type":"String | ::Nil","visibility":"Public","body":"@source_lang"}},{"html_id":"source_lang=(source_lang:String|Nil)-instance-method","name":"source_lang=","abstract":false,"args":[{"name":"source_lang","external_name":"source_lang","restriction":"String | ::Nil"}],"args_string":"(source_lang : String | Nil)","args_html":"(source_lang : String | Nil)","location":{"filename":"src/deepl/options.cr","line_number":11,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L11"},"def":{"name":"source_lang=","args":[{"name":"source_lang","external_name":"source_lang","restriction":"String | ::Nil"}],"visibility":"Public","body":"@source_lang = source_lang"}},{"html_id":"split_sentences:String|Nil-instance-method","name":"split_sentences","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":18,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L18"},"def":{"name":"split_sentences","return_type":"String | ::Nil","visibility":"Public","body":"@split_sentences"}},{"html_id":"split_sentences=(split_sentences:String|Nil)-instance-method","name":"split_sentences=","abstract":false,"args":[{"name":"split_sentences","external_name":"split_sentences","restriction":"String | ::Nil"}],"args_string":"(split_sentences : String | Nil)","args_html":"(split_sentences : String | Nil)","location":{"filename":"src/deepl/options.cr","line_number":18,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L18"},"def":{"name":"split_sentences=","args":[{"name":"split_sentences","external_name":"split_sentences","restriction":"String | ::Nil"}],"visibility":"Public","body":"@split_sentences = split_sentences"}},{"html_id":"splitting_tags:Array(String)|Nil-instance-method","name":"splitting_tags","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":23,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L23"},"def":{"name":"splitting_tags","return_type":"Array(String) | ::Nil","visibility":"Public","body":"@splitting_tags"}},{"html_id":"splitting_tags=(splitting_tags:Array(String)|Nil)-instance-method","name":"splitting_tags=","abstract":false,"args":[{"name":"splitting_tags","external_name":"splitting_tags","restriction":"Array(String) | ::Nil"}],"args_string":"(splitting_tags : Array(String) | Nil)","args_html":"(splitting_tags : Array(String) | Nil)","location":{"filename":"src/deepl/options.cr","line_number":23,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L23"},"def":{"name":"splitting_tags=","args":[{"name":"splitting_tags","external_name":"splitting_tags","restriction":"Array(String) | ::Nil"}],"visibility":"Public","body":"@splitting_tags = splitting_tags"}},{"html_id":"tag_handling:String|Nil-instance-method","name":"tag_handling","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":20,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L20"},"def":{"name":"tag_handling","return_type":"String | ::Nil","visibility":"Public","body":"@tag_handling"}},{"html_id":"tag_handling=(tag_handling:String|Nil)-instance-method","name":"tag_handling=","abstract":false,"args":[{"name":"tag_handling","external_name":"tag_handling","restriction":"String | ::Nil"}],"args_string":"(tag_handling : String | Nil)","args_html":"(tag_handling : String | Nil)","location":{"filename":"src/deepl/options.cr","line_number":20,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L20"},"def":{"name":"tag_handling=","args":[{"name":"tag_handling","external_name":"tag_handling","restriction":"String | ::Nil"}],"visibility":"Public","body":"@tag_handling = tag_handling"}},{"html_id":"target_lang:String-instance-method","name":"target_lang","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":10,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L10"},"def":{"name":"target_lang","return_type":"String","visibility":"Public","body":"@target_lang"}},{"html_id":"target_lang=(target_lang:String)-instance-method","name":"target_lang=","abstract":false,"args":[{"name":"target_lang","external_name":"target_lang","restriction":"String"}],"args_string":"(target_lang : String)","args_html":"(target_lang : String)","location":{"filename":"src/deepl/options.cr","line_number":10,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/options.cr#L10"},"def":{"name":"target_lang=","args":[{"name":"target_lang","external_name":"target_lang","restriction":"String"}],"visibility":"Public","body":"@target_lang = target_lang"}}]},{"html_id":"deepl-cli/DeepL/Parser","path":"DeepL/Parser.html","kind":"class","full_name":"DeepL::Parser","name":"Parser","abstract":false,"superclass":{"html_id":"deepl-cli/OptionParser","kind":"class","full_name":"OptionParser","name":"OptionParser"},"ancestors":[{"html_id":"deepl-cli/OptionParser","kind":"class","full_name":"OptionParser","name":"OptionParser"},{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"deepl-cli/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/deepl/parser.cr","line_number":7,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/parser.cr#L7"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"deepl-cli/DeepL","kind":"module","full_name":"DeepL","name":"DeepL"},"constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/deepl/parser.cr","line_number":36,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/parser.cr#L36"},"def":{"name":"new","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"help_message:String-instance-method","name":"help_message","abstract":false,"location":{"filename":"src/deepl/parser.cr","line_number":10,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/parser.cr#L10"},"def":{"name":"help_message","return_type":"String","visibility":"Public","body":"@help_message"}},{"html_id":"help_message=(help_message:String)-instance-method","name":"help_message=","abstract":false,"args":[{"name":"help_message","external_name":"help_message","restriction":"String"}],"args_string":"(help_message : String)","args_html":"(help_message : String)","location":{"filename":"src/deepl/parser.cr","line_number":10,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/parser.cr#L10"},"def":{"name":"help_message=","args":[{"name":"help_message","external_name":"help_message","restriction":"String"}],"visibility":"Public","body":"@help_message = help_message"}},{"html_id":"opt:Options-instance-method","name":"opt","abstract":false,"location":{"filename":"src/deepl/parser.cr","line_number":8,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/parser.cr#L8"},"def":{"name":"opt","return_type":"Options","visibility":"Public","body":"@opt"}},{"html_id":"parse(args)-instance-method","name":"parse","doc":"Parses the passed *args* (defaults to `ARGV`), running the handlers associated to each option.","summary":"<p>Parses the passed <em>args</em> (defaults to <code>ARGV</code>), running the handlers associated to each option.</p>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(args)","args_html":"(args)","location":{"filename":"src/deepl/parser.cr","line_number":316,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/parser.cr#L316"},"def":{"name":"parse","args":[{"name":"args","external_name":"args","restriction":""}],"visibility":"Public","body":"super(args)\nopt\n"}}],"macros":[{"html_id":"_on_debug_-macro","name":"_on_debug_","abstract":false,"location":{"filename":"src/deepl/parser.cr","line_number":12,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/parser.cr#L12"},"def":{"name":"_on_debug_","visibility":"Public","body":"      on(\"-d\", \"--debug\", \"Show backtrace on error\") do\n        CLI.debug = true\n      \nend\n    \n"}},{"html_id":"_on_help_-macro","name":"_on_help_","abstract":false,"location":{"filename":"src/deepl/parser.cr","line_number":18,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/parser.cr#L18"},"def":{"name":"_on_help_","visibility":"Public","body":"      on(\"-h\", \"--help\", \"Show this help\") do\n        opt.action = Action::Help\n      \nend\n\n      \n# Crystal's OptionParser returns to its initial state after parsing\n\n      \n# by `with_preserved_state`. This also initialises @flags.\n\n      \n# @help_message is needed to store subcommand messages.\n\n      @help_message = self.to_s\n    \n"}},{"html_id":"_set_action_(action,banner)-macro","name":"_set_action_","abstract":false,"args":[{"name":"action","external_name":"action","restriction":""},{"name":"banner","external_name":"banner","restriction":""}],"args_string":"(action, banner)","args_html":"(action, banner)","location":{"filename":"src/deepl/parser.cr","line_number":29,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/parser.cr#L29"},"def":{"name":"_set_action_","args":[{"name":"action","external_name":"action","restriction":""},{"name":"banner","external_name":"banner","restriction":""}],"visibility":"Public","body":"      opt.action = \n{{ action }}\n\n      @handlers.clear\n      @flags.clear\n      self.banner = \n{{ banner }}\n\n    \n"}}]},{"html_id":"deepl-cli/DeepL/Utils","path":"DeepL/Utils.html","kind":"module","full_name":"DeepL::Utils","name":"Utils","abstract":false,"locations":[{"filename":"src/deepl/utils.cr","line_number":2,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/utils.cr#L2"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"deepl-cli/DeepL","kind":"module","full_name":"DeepL","name":"DeepL"},"class_methods":[{"html_id":"edit_text(text)-class-method","name":"edit_text","abstract":false,"args":[{"name":"text","external_name":"text","restriction":""}],"args_string":"(text)","args_html":"(text)","location":{"filename":"src/deepl/utils.cr","line_number":17,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/utils.cr#L17"},"def":{"name":"edit_text","args":[{"name":"text","external_name":"text","restriction":""}],"visibility":"Public","body":"begin\n  tmp_file = File.tempfile do |f|\n    f.puts(text)\n  end\n  open_texteditor(tmp_file.path)\n  File.read(tmp_file.path)\nensure\n  tmp_file.try(&.delete)\nend"}},{"html_id":"open_texteditor(path)-class-method","name":"open_texteditor","abstract":false,"args":[{"name":"path","external_name":"path","restriction":""}],"args_string":"(path)","args_html":"(path)","location":{"filename":"src/deepl/utils.cr","line_number":3,"url":"https://github.com/kojix2/deepl-cli/blob/84648745a1e9ed648ef3f3391c7d07e34bee37c4/src/deepl/utils.cr#L3"},"def":{"name":"open_texteditor","args":[{"name":"path","external_name":"path","restriction":""}],"visibility":"Public","body":"editor = ENV.fetch(\"EDITOR\") do\n  {% if flag?(:windows) %}\n          \"notepad\"\n        {% else %}\n          # Some programmers prefer to replace tabs with spaces in their text editors,\n          # but as a result, they may not be able to properly handle tab-separated files\n          # like glossaries. I am no exception. So nano is the default text editor here.\n          \"nano\"\n        {% end %}\nend\nsystem(\"#{editor} #{path}\")\n"}}]}]}]}})